<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Pybonacci">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>C elemental, querido Cython | Pybonacci</title>

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" title="Pybonacci blog atom feed" href="/feeds/all.atom.xml" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/theme/css/fontello.css"/>
        <style>.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
        <style>.description-author {
  font-size: 0.8em;
  color: #333;
}
.img-author {
  max-height: 10em;
  max-width: 10em;
}
img[src$="centerme"] {
  display: block;
  margin: 0 auto;
}
body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a {
  color: #007ee5;
  text-decoration: none;
}
a:hover {
  color: #007ee5;
  text-decoration: none;
}
header.main-header {
  background: none repeat scroll 0% 0% #205F29;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  max-width: 1000px;
}
header.main-header .container nav a:hover {
  background-color: #5C881C;
}
header.navbar-default {
  border-bottom: none;
  background-color: #EFEFEF;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #9E9E9E;
  float: right;
}
article header time.left {
  color: #9E9E9E;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 2em;
  margin-bottom: 20px;
  line-height: 1.6em;
  text-align: justify;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 1.1em;
}
article .meta {
  margin-top: 35px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  display: block;
}
article .meta address:before,
article .meta time:before,
article .meta a.tag:before {
  font-family: 'fontello';
  margin-right: 6px;
}
article .meta address.author {
  float: left;
}
article .meta address:before {
  content: '\e819';
}
article .meta time:before {
  content: '\f133';
}
article .meta div.tags {
  clear: both;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:before {
  content: '\e821';
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  color: #007aa3;
  background: #FFF;
  border: 1px solid #007aa3;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  background: #007aa3;
}
article .meta:after {
  content: "";
  display: table;
  clear: both;
}
.index {
  max-width: 700px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #333;
}
.index article header h2 a:hover {
  color: #007ee5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #5C881C;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #5C881C;
}
.index .pagination a:hover {
  color: #FFF;
  background: #5C881C;
}
.post {
  max-width: 80%;
}
.post h1 {
  font-size: 42px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post p {
  font-size: 2em;
}
.post li {
  font-size: 2em;
}
.list {
  max-width: 700px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 2em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}
.disclaimer {
  text-align: center;
  background-color: #EFEFEF;
  border-bottom: none;
  margin-top: 6em;
}
pre {
  font-size: 1.2em;
}</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

       <script src="https://comments.pybonacci.org/assets/js/commento.js" data-div="#commento"></script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        });
        MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>


        </script>

    </head>

    <body>
        <header class="navbar navbar-default bs-docs-nav">
            <div class="container-fluid">
                <div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span> 
		  </button>
                  <a class="navbar-brand" href="/" title="Home" class="title">Pybonacci</a><!-- — Python y Ciencia-->
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
		    <ul class="nav navbar-nav navbar-right">
                            <li><a href="/pages/acerca-de-pybonacci.html" title="About">Acerca de</a></li>
                            <li><a href="/archives.html" title="Archive">Archivos</a></li>
                            <li><a class="nodec icon-rss" href="/feeds/all.atom.xml" title="pybonacci.github.io RSS feed" rel="me"></a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>C elemental, querido Cython</h1>
            <div class="meta">
                <time datetime="article.date.isoformat()" pubdate>lun 09 marzo 2015</time>
                <address class="vcard author">Por
                    <a class="url fn" href="http://pybonacci.github.io/author/kiko-correoso.html">Kiko Correoso</a>
                </address>
            </div>
        </header>

        <div class="article_content">
            <div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="Cython,-que-no-CPython">
        Cython, que no CPython<a class="anchor-link" href="#Cython,-que-no-CPython">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      No, no nos hemos equivocado en el título, hoy vamos a hablar de Cython.<br /> ¿Qué es Cython?<br /> Cython son dos cosas:</p> </p>
<div class="highlight"><pre><span></span>  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      Por una parte, Cython es un lenguaje de programación (un superconjunto de Python) que une Python con el sistema de tipado estático de C y C++.
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      Por otra parte, <span class="nt">&lt;code&gt;</span>cython<span class="nt">&lt;/code&gt;</span> es un compilador que traduce codigo fuente escrito en Cython en eficiente código C o C++. El código resultante se podría usar como una extensión Python o como un ejecutable.
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p></div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      ¡Guau! ¿Cómo os habéis quedado?</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Lo que se pretende es, básicamente, aprovechar las fortalezas de Python y C, combinar una sintaxis sencilla con el poder y la velocidad.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Salvando algunas <a href="http://docs.cython.org/src/userguide/limitations.html#cython-limitations">excepciones</a>, el código Python (tanto Python 2 como Python 3) es código Cython válido. Además, Cython añade una serie de palabras clave para poder usar el sistema de tipado de C con Python y que el compilador <code>cython</code> pueda generar código C eficiente.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Pero, ¿quién usa Cython?<br /> Pues mira, igual no lo sabes pero seguramente estés usando Cython todos los días. Sage tiene casi medio millón de líneas de Cython (que se dice pronto), Scipy y Pandas más de 20000, scikit-learn unas 15000,...</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="&#191;Nos-empezamos-a-meter-en-harina?">
        &#191;Nos empezamos a meter en harina?<a class="anchor-link" href="#&#191;Nos-empezamos-a-meter-en-harina?">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      La idea principal de este primer acercamiento a Cython será empezar con un código Python que sea nuestro cuello de botella e iremos creando versiones que sean cada vez más rápidas, o eso intentaremos.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Por ejemplo, imaginemos que tenemos que detectar valores mínimos locales dentro de una malla. Los valores mínimos deberán ser simplemente valores más bajos que los que haya en los 8 nodos de su entorno inmediato. En el siguiente gráfico, el nodo en verde será un nodo con un mínimo y en su entorno son todo valores superiores:</p> </p>
<div class="highlight"><pre><span></span>  <span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (2, 0)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (2, 1)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (2, 2)
      <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>

    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (1, 0)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:green&quot;</span><span class="nt">&gt;</span>
        (1. 1)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (1, 2)
      <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>

    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (0, 0)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (0, 1)
      <span class="nt">&lt;/td&gt;</span>

      <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;background:red&quot;</span><span class="nt">&gt;</span>
        (0, 2)
      <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p></div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      [INCISO] Los números y porcentajes que veáis a continuación pueden variar levemente dependiendo de la máquina donde se ejecute. Tomad los valores como aproximativos.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="Setup">
        Setup<a class="anchor-link" href="#Setup">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Como siempre, importamos algunas librerías antes de empezar a picar código:</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
  </div>

<p><div>
    <div>
      Creamos una matriz cuadrada relativamente grande (4 millones de elementos).</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi"></span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
  </div>

<p><div>
    <div>
      Ya tenemos los datos listos para empezar a trabajar.<br /> Vamos a crear una función en Python que busque los mínimos tal como los hemos definido.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="k">def</span> <span class="nf">busca_min</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi"></span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
  </div>

<p><div>
    <div>
      Veamos cuanto tarda esta función en mi máquina:</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 3.63 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Buff, tres segundos y pico en un i7... Si tengo que buscar los mínimos en 500 de estos casos me va a tardar casi media hora.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Por casualidad, vamos a probar numba a ver si es capaz de resolver el problema sin mucho esfuerzo, es código Python muy sencillo en el cual no usamos cosas muy 'extrañas' del lenguaje.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="kn">from</span> <span class="nn">numba</span> <span class="k">import</span> <span class="n">jit</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">busca_min_numba</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi"></span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min_numba(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 4.97 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Ooooops! Parece que la magia de numba no funciona aquí.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Vamos a especificar los tipos de entrada y de salida (y a modificar el output) a ver si mejora algo:</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="kn">from</span> <span class="nn">numba</span> <span class="k">import</span> <span class="n">jit</span>
<span class="kn">from</span> <span class="nn">numba</span> <span class="k">import</span> <span class="n">int32</span><span class="p">,</span> <span class="n">float64</span>

<span class="nd">@jit</span><span class="p">(</span><span class="n">int32</span><span class="p">[:,:](</span><span class="n">float64</span><span class="p">[:,:]))</span>
<span class="k">def</span> <span class="nf">busca_min_numba</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi"></span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">minimosx</span><span class="p">,</span> <span class="n">minimosy</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min_numba(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 5.25 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Pues parece que no, el resultado es del mismo pelo. Usando la opción <code>nopython</code> me casca un error un poco feo,...<br /> Habrá que seguir esperando a que numba esté un poco más maduro. En mis pocas experiencias no he conseguido aun el efecto que buscaba y en la mayoría de los casos obtengo errores muy crípticos. No es que no tenga confianza en la gente que está detrás, solo estoy diciendo que aun no está listo para 'producción'. Esto no pretende ser una guerra Cython/numba, solo he usado numba para ver si a pelo era capaz de mejorar algo el tema. Como no ha sido así, nos olvidamos de numba de momento.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="Cythonizando,-que-es-gerundio-(toma-1).">
        Cythonizando, que es gerundio (toma 1).<a class="anchor-link" href="#Cythonizando,-que-es-gerundio-(toma-1).">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Lo más sencillo y evidente es usar directamente el compilador <code>cython</code> y ver si usando el código python tal cual es un poco más rápido. Para ello, vamos a usar las funciones mágicas que Cython pone a nuestra disposición en el notebook. Solo vamos a hablar de la función mágica <code>%%cython</code>, de momento, aunque hay otras.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="c"># antes cythonmagic</span>
<span class="o">%</span><span class="k">load_ext</span> Cython
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
  </div>

<p><div>
    <div>
      EL comando <code>%%cython</code> nos permite escribir código Cython en una celda. Una vez que ejecutamos la celda, IPython se encarga de coger el código, crear un fichero de código Cython con extensión <em>.pyx</em>, compilarlo a C y, si todo está correcto, importar ese fichero para que todo esté disponible dentro del notebook.<br /> [INCISO] a la función mágica <code>%%cython</code> le podemos pasar una serie de argumentos. Veremos alguno en este análisis pero ahora vamos a definir uno que sirve para que podamos nombrar a la funcíon que se crea y compila al vuelo, <code>-n</code> o <code>--name</code>.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%%</span><span class="n">cython</span> <span class="o">--</span><span class="n">name</span> <span class="n">probandocython1</span>
<span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">busca_min_cython1</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
  </div>

<p><div>
    <div>
      El fichero se creará dentro de la carpeta <em>cython</em> disponible dentro del directorio resultado de la función <code>get_ipython_cache_dir</code>. Veamos la localización del fichero en mi equipo:</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="kn">from</span> <span class="nn">IPython.utils.path</span> <span class="k">import</span> <span class="n">get_ipython_cache_dir</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="nb">print</span><span class="p">(</span><span class="n">get_ipython_cache_dir</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#39;/cython/probandocython1.c&#39;</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;/home/kiko/.cache/ipython/cython/probandocython1.c
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      No lo muestro por aquí porque el resultado son más de ¡¡2400!! líneas de código C.<br /> Veamos ahora lo que tarda.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min_cython1(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 3.34 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Bueno, parece que sin hacer mucho esfuerzo hemos conseguido ganar en torno a un 5% - 25% de rendimiento (dependerá del caso). No es gran cosa pero Cython es capaz de mucho más...</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="Cythonizando,-que-es-gerundio-(toma-2).">
        Cythonizando, que es gerundio (toma 2).<a class="anchor-link" href="#Cythonizando,-que-es-gerundio-(toma-2).">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      En esta parte vamos a introducir una de las palabras clave que Cython introduce para extender Python, <code>cdef</code>. La palabra clave <code>cdef</code> sirve para 'tipar' estáticamente variables en Cython (luego veremos que se usa también para definir funciones). Por ejemplo:</p> </p>
<div class="highlight"><pre><span></span>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;highlight&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>var1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>var2<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">cdef</span> <span class="nb">float</span> <span class="n">var3</span>
</pre>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      En el bloque de código de más arriba he creado dos variables de tipo entero, <code>var1</code> y <code>var2</code>, y una variable de tipo float, <code>var3</code>. Los <a href="http://docs.cython.org/src/userguide/language_basics.html#automatic-type-conversions">tipos anteriores son la nomenclatura C</a>.</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Vamos a intentar usar <code>cdef</code> con algunos tipos de datos que tenemos dentro de nuestra función. Para empezar, veo evidente que tengo varias listas (<code>minimosx</code> y <code>minimosy</code>), tenemos los índices de los bucles (<code>i</code> y <code>j</code>) y voy a convertir los parámetros de los <code>range</code> en tipos estáticos (<code>ii</code> y <code>jj</code>):</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%%</span><span class="n">cython</span> <span class="o">--</span><span class="n">name</span> <span class="n">probandocython2</span>
<span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">busca_min_cython2</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min_cython2(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 3.55 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Vaya decepción... No hemos conseguido gran cosa, tenemos un código un poco más largo y estamos peor que en la <strong>toma 1</strong>.<br /> En realidad, estamos usando objetos Python como listas (no es un tipo C/C++ puro pero Cython lo declara como puntero a algún tipo <code>struct</code> de Python) o numpy arrays y no hemos definido las variables de entrada y de salida.<br /> [INCISO] Cuando existe un tipo Python y C que tienen el mismo nombre (por ejemplo, <code>int</code>) predomina el de C (porque es lo deseable, ¿no?).</p>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      <h1 id="Cythonizando,-que-es-gerundio-(toma-3).">
        Cythonizando, que es gerundio (toma 3).<a class="anchor-link" href="#Cythonizando,-que-es-gerundio-(toma-3).">&#182;</a>
      </h1>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      En Cython existen tres tipos de funciones, las definidas en el espacio Python con <code>def</code>, las definidas en el espacio C con <code>cdef</code> (sí, lo mismo que usamos para declarar los tipos) y las definidas en ambos espacios con <code>cpdef</code>.</p> </p>
<div class="highlight"><pre><span></span>  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;code&gt;</span>def<span class="nt">&lt;/code&gt;</span>: ya lo hemos visto y funciona como se espera. Accesible desde Python
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;code&gt;</span>cdef<span class="nt">&lt;/code&gt;</span>: No es accesible desde Python y la tendremos que envolver con una función Python para poder acceder a la misma.
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;code&gt;</span>cpdef<span class="nt">&lt;/code&gt;</span>: Es accesible tanto desde Python como desde C y Cython se encargará de hacer el &#39;envoltorio&#39; para nosotros. Esto meterá un poco más de código y empeorará levemente el rendimiento.
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>

  <span class="nt">&lt;p&gt;</span>
    Si definimos una función con <span class="nt">&lt;code&gt;</span>cdef<span class="nt">&lt;/code&gt;</span> debería ser una función que se usa internamente dentro del módulo Cython que vayamos a crear y que no sea necesario llamar desde Python.
  <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p></div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Veamos un ejemplo de lo dicho anteriormente definiendo la salida de la función como tupla:</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%%</span><span class="n">cython</span> <span class="o">--</span><span class="n">name</span> <span class="n">probandocython3</span>
<span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">cdef</span> <span class="kt">tuple</span> <span class="nf">cbusca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">busca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">cbusca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%</span><span class="k">timeit</span> busca_min_cython3(data)
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    &lt;div&gt;
      &lt;pre&gt;1 loops, best of 3: 3.62 s per loop
</pre></div>


<p></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<div>
  <div>
  </div>

<p><div>
    <div>
      Vaya, seguimos sin estar muy a gusto con estos resultados.<br /> Seguimos sin definir el tipo del valor de entrada.<br /> La función mágica <code>%%cython</code> dispone de una serie de funcionalidades entre la que se encuentra <code>-a</code> o <code>--annotate</code> (además del <code>-n</code> o <code>--name</code> que ya hemos visto). Si le pasamos este parámetro podremos ver una representación del código con colores marcando las partes más lentas (amarillo más oscuro) y más optmizadas (más claro) o a la velocidad de C (blanco). Vamos a usarlo para saber donde tenemos cuellos de botella (aplicado a nuestra última versión del código):</p>
    </div>
  </div>
</div></p>
<div>
  <div>
    <div>
      <div>
        <div class=" highlight hl-ipython3">
          <pre><span class="o">%%</span><span class="n">cython</span> <span class="o">--</span><span class="n">annotate</span>
<span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">cdef</span> <span class="kt">tuple</span> <span class="nf">cbusca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosx</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">minimosy</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">busca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">cbusca_min_cython3</span><span class="p">(</span><span class="n">malla</span><span class="p">)</span>
</pre>
        </div>
      </div>
    </div>
  </div>

<p><div>
    <div>
      <div>
        <div>
        </div></p>
<div class="highlight"><pre><span></span>    <span class="nt">&lt;p&gt;</span>
      [INCISO] En el código a continuación, si pulsáis sobre el símbolo &#39;+&#39; que está delante de cada número de línea podréis ver el código C que se genera
    <span class="nt">&lt;/p&gt;</span>

    <span class="nt">&lt;div&gt;</span>
      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- Generated by Cython 0.22 --&gt;</span>

      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Generated by Cython 0.22<span class="nt">&lt;/p&gt;</span>

      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cython&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-8&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+01: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>import<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>numpy<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>as<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-8&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_Import<span class="nt">&lt;/span&gt;</span>(__pyx_n_s_numpy, 0, -1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'><strong>Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_np, __pyx_t_1) &lt; 0) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>02: <span class="nt">&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-9&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+03: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>tuple<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>cbusca_min_cython3<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-9&#39;</span><span class="nt">&gt;</span>static PyObject *__pyx_f_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_cbusca_min_cython3(PyObject *__pyx_v_malla) {
</pre></div>


<p>PyObject <em>__pyx_v_minimosx = 0;
  PyObject </em>__pyx_v_minimosy = 0;
  unsigned int __pyx_v_i;
  unsigned int __pyx_v_j;
  unsigned int __pyx_v_ii;
  unsigned int __pyx_v_jj;
  unsigned int __pyx_v_start;
  PyObject <em>__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("cbusca_min_cython3", 0);
/</em> … <em>/
  /</em> function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("_cython_magic_b76d9f95ffc9db5b7e97e92e04623490.cbusca_min_cython3", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minimosx);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minimosy);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>04:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>list<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>05:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-14&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+06:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>ii<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>shape<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-14&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_GetAttrStr<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_n_s_shape);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'><strong>Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_t_2, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyInt_As_unsigned_int</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((__pyx_t_3 == (unsigned int)-1) &amp;&amp; PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ii = __pyx_t_3;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-14&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+07:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>jj<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>shape<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-14&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_GetAttrStr<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_n_s_shape);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'><strong>Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_t_2, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyInt_As_unsigned_int</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((__pyx_t_3 == (unsigned int)-1) &amp;&amp; PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_jj = __pyx_t_3;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+08:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_v_start = 1;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+09:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[]<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyList_New<span class="nt">&lt;/span&gt;</span>(0);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_minimosx = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+10:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[]<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyList_New<span class="nt">&lt;/span&gt;</span>(0);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 10; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_minimosy = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+11:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>for<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>in<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>range<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>ii<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_t_3 = __pyx_v_ii;
</pre></div>


<p>for (__pyx_t_4 = __pyx_v_start; __pyx_t_4 &lt; __pyx_t_3; __pyx_t_4+=1) {
    __pyx_v_i = __pyx_t_4;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+12:         <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>for<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>in<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>range<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>jj<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>    __pyx_t_5 = __pyx_v_jj;
for (__pyx_t_6 = __pyx_v_start; __pyx_t_6 <span class="ni">&amp;lt;</span> __pyx_t_5; __pyx_t_6+=1) {
  __pyx_v_j = __pyx_t_6;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+13:             <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>if<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 0, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 1, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 0, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 1, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_8 = 0;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_1 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, __pyx_t_1, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+14:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 0, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 1, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_9 = 0;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_1 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 0, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 1, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_2 = 0;
  __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_9 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, __pyx_t_9, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+15:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 0, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 1, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_8 = 0;
  __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_9 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 0, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 1, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_1 = 0;
  __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_8 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, __pyx_t_8, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+16:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 0, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 1, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_2 = 0;
  __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_8 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 0, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 1, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_9 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, __pyx_t_2, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+17:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 0, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 1, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 0, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 1, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_8 = 0;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_1 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, __pyx_t_1, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+18:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 0, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 1, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_9 = 0;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_1 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i - 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 0, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, 1, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_2 = 0;
  __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_9 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, __pyx_t_9, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+19:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 0, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 1, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_8 = 0;
  __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_9 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 0, __pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_2, 1, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_1 = 0;
  __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_8 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, __pyx_t_8, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_10) {
  } else {
    __pyx_t_7 = __pyx_t_10;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-44&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+20:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-44&#39;</span><span class="nt">&gt;</span>      __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 0, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_9, 1, __pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  __pyx_t_2 = 0;
  __pyx_t_8 = 0;
  __pyx_t_8 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_9);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_8 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_j + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_long<span class="nt">&lt;/span&gt;</span>((__pyx_v_i + 1));<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyTuple_New<span class="nt">&lt;/span&gt;</span>(2);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 0, __pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_macro_api&#39;</span><span class="nt">&gt;</span>PyTuple_SET_ITEM<span class="nt">&lt;/span&gt;</span>(__pyx_t_1, 1, __pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GIVEREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  __pyx_t_9 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_GetItem<span class="nt">&lt;/span&gt;</span>(__pyx_v_malla, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_2 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2);
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyObject_RichCompare<span class="nt">&lt;/span&gt;</span>(__pyx_t_8, __pyx_t_2, Py_LT); <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_XGOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_10 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyObject_IsTrue<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_7 = __pyx_t_10;
  __pyx_L8_bool_binop_done:;
  if (__pyx_t_7) {
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+21:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>append<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>        __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
    __pyx_t_11 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyList_Append<span class="nt">&lt;/span&gt;</span>(__pyx_v_minimosx, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_11 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+22:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>append<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>        __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
    __pyx_t_11 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyList_Append<span class="nt">&lt;/span&gt;</span>(__pyx_v_minimosy, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_11 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;
}
</pre></div>


<p>}
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>23: <span class="nt">&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-66&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+24:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-66&#39;</span><span class="nt">&gt;</span>  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_XDECREF<span class="nt">&lt;/span&gt;</span>(__pyx_r);
</pre></div>


<p><strong>pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
    if (likely(__pyx_t_2)) {
      PyObject<em> function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(<strong>pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
    }
  }
  if (!__pyx_t_2) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_8, __pyx_v_minimosx);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  } else {
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(1+1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_2); <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2); __pyx_t_2 = NULL;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_minimosx);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 0+1, __pyx_v_minimosx);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_minimosx);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_t_9, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_9)) {
      PyObject</em> function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
    }
  }
  if (!__pyx_t_9) {
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_v_minimosy);<span class='error_goto'> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  } else {
    __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(1+1);<span class='error_goto'> if (unlikely(!__pyx_t_12)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_t_9); <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9); __pyx_t_9 = NULL;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_minimosy);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 0+1, __pyx_v_minimosy);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_minimosy);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_12, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_8);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  __pyx_t_1 = 0;
  __pyx_t_8 = 0;
  __pyx_r = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>25: <span class="nt">&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-14&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+26: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>def<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>busca_min_cython3<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-14&#39;</span><span class="nt">&gt;</span>/* Python wrapper */
</pre></div>


<p>static PyObject <em>__pyx_pw_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_1busca_min_cython3(PyObject </em>__pyx_self, PyObject <em>__pyx_v_malla); /</em>proto<em>/
static PyMethodDef __pyx_mdef_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_1busca_min_cython3 = {"busca_min_cython3", (PyCFunction)__pyx_pw_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_1busca_min_cython3, METH_O, 0};
static PyObject </em>__pyx_pw_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_1busca_min_cython3(PyObject <em>__pyx_self, PyObject </em>__pyx_v_malla) {
  PyObject <em>__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("busca_min_cython3 (wrapper)", 0);
  __pyx_r = __pyx_pf_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_busca_min_cython3(__pyx_self, ((PyObject </em>)__pyx_v_malla));</p>
<p>/<em> function exit code </em>/
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}</p>
<p>static PyObject <em>__pyx_pf_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_busca_min_cython3(CYTHON_UNUSED PyObject </em><strong>pyx_self, PyObject <em>__pyx_v_malla) {
  PyObject </em>__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("busca_min_cython3", 0);
/<em> … </em>/
  /<em> function exit code </em>/
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("<em>cython_magic_b76d9f95ffc9db5b7e97e92e04623490.busca_min_cython3", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/<em> … </em>/
  __pyx_tuple</em> = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_s_malla);<span class='error_goto'> if (unlikely(!__pyx_tuple_)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple_);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple_);
/<em> … </em>/
  __pyx_t_1 = PyCFunction_NewEx(&amp;__pyx_mdef_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_1busca_min_cython3, NULL, __pyx_n_s_cython_magic_b76d9f95ffc9db5b7e);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_busca_min_cython3, __pyx_t_1) &lt; 0) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-1&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+27:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cbusca_min_cython3<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

        <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-1&#39;</span><span class="nt">&gt;</span>  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_XDECREF<span class="nt">&lt;/span&gt;</span>(__pyx_r);
</pre></div>


<p><strong>pyx_t_1 = __pyx_f_46_cython_magic_b76d9f95ffc9db5b7e97e92e04623490_cbusca_min_cython3(__pyx_v_malla);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 27; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre>
          </div></p>
<div class="highlight"><pre><span></span>      <span class="nt">&lt;p&gt;</span>
        <span class="nt">&lt;/body&gt;&lt;/html&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              El <span class="nt">&lt;code&gt;</span>if<span class="nt">&lt;/code&gt;</span> parece la parte más lenta. Estamos usando el valor de entrada que no tiene un tipo Cython definido.<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Los bucles parece que están optimizados (las variables envueltas en el bucle las hemos declarado como <span class="nt">&lt;code&gt;</span>unsigned int<span class="nt">&lt;/code&gt;</span>).<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Pero todas las partes por las que pasa el numpy array parece que no están muy optimizadas...<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-4).&quot;</span><span class="nt">&gt;</span>
                Cythonizando, que es gerundio (toma 4).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-4).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
              <span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              Ahora mismo, haciendo <span class="nt">&lt;code&gt;</span>import numpy as np<span class="nt">&lt;/code&gt;</span> tenemos acceso a la funcionalidad Python de numpy. Para poder acceder a la funcionalidad C de numpy hemos de hacer un <span class="nt">&lt;code&gt;</span>cimport<span class="nt">&lt;/code&gt;</span> de numpy.<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> El <span class="nt">&lt;code&gt;</span>cimport<span class="nt">&lt;/code&gt;</span> se usa para importar información especial del módulo numpy en el momento de compilación. Esta información se encuentra en el fichero numpy.pxd que es parte de la distribución Cython. El <span class="nt">&lt;code&gt;</span>cimport<span class="nt">&lt;/code&gt;</span> también se usa para poder importar desde la <span class="nt">&lt;em&gt;</span>stdlib<span class="nt">&lt;/em&gt;</span> de C.<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Vamos a usar esto para declarar el tipo del array de numpy.<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython4<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></p>
<p><span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython4</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython4(data)
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;pre&gt;</span>10 loops, best of 3: 147 ms per loop
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              Guauuuu!!! Acabamos de obtener un incremento de entre 25x a 30x veces más rápido.<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              Vamos a comprobar que el resultado sea el mismo que la función original:<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>b<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>data<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;pre&gt;</span>[   1    1    1 ..., 1998 1998 1998]
</pre></div>


<p>[   1    3   11 ..., 1968 1977 1985]
</pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>aa<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>bb<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython4<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>data<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="nb">print</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bb</span><span class="p">)</span>
</pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;pre&gt;</span>[   1    1    1 ..., 1998 1998 1998]
</pre></div>


<p>[   1    3   11 ..., 1968 1977 1985]
</pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>print<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array_equal<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>aa<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>))<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;pre&gt;</span>True
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>print<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array_equal<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>b<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>bb<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>))<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;pre&gt;</span>True
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div></p>
<div class="highlight"><pre><span></span>        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              Pues parece que sí 🙂<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>

          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              Vamos a ver si hemos dejado la mayoría del código anterior en blanco o más clarito usando <span class="nt">&lt;code&gt;</span>--annotate<span class="nt">&lt;/code&gt;</span>.<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div&gt;</span>
          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>annotate<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></p>
<p><span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython4</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                    </div>
                  </div>
                </div>
              </div></p>
<div class="highlight"><pre><span></span>          <span class="nt">&lt;div&gt;</span>
            <span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                <span class="nt">&lt;div&gt;</span>
                  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- Generated by Cython 0.22 --&gt;</span>

                  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Generated by Cython 0.22<span class="nt">&lt;/p&gt;</span>

                  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cython&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-19&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+01: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>import<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>numpy<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>as<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-19&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_Import<span class="nt">&lt;/span&gt;</span>(__pyx_n_s_numpy, 0, -1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'><strong>Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_np, __pyx_t_1) &lt; 0) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
/<em> … </em>/
  __pyx_t_1 = <span class='py_c_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_test, __pyx_t_1) &lt; 0) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>02: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cimport<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>numpy<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>as<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nn&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>03: <span class="nt">&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-35&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+04: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cpdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>tuple<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>busca_min_cython4<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>ndarray<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>double<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>ndim<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-35&#39;</span><span class="nt">&gt;</span>static PyObject *__pyx_pw_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_1busca_min_cython4(PyObject *__pyx_self, PyObject *__pyx_v_malla); /*proto*/
</pre></div>


<p>static PyObject <em>__pyx_f_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_busca_min_cython4(PyArrayObject </em><strong>pyx_v_malla, CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject <em>__pyx_v_minimosx = 0;
  PyObject </em>__pyx_v_minimosy = 0;
  unsigned int __pyx_v_i;
  unsigned int __pyx_v_j;
  unsigned int __pyx_v_ii;
  unsigned int __pyx_v_jj;
  unsigned int __pyx_v_start;
  __Pyx_LocalBuf_ND __pyx_pybuffernd_malla;
  __Pyx_Buffer __pyx_pybuffer_malla;
  PyObject <em>__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("busca_min_cython4", 0);
  __pyx_pybuffer_malla.pybuffer.buf = NULL;
  __pyx_pybuffer_malla.refcount = 0;
  __pyx_pybuffernd_malla.data = NULL;
  __pyx_pybuffernd_malla.rcbuffer = &amp;__pyx_pybuffer_malla;
  {
    __Pyx_BufFmt_StackElem __pyx_stack[1];
    if (unlikely(<span class='pyx_c_api'>__Pyx_GetBufferAndValidate</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer, (PyObject</em>)__pyx_v_malla, &amp;__Pyx_TypeInfo_double, PyBUF_FORMAT| PyBUF_STRIDES, 2, 0, __pyx_stack) == -1)) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 4; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  }
  __pyx_pybuffernd_malla.diminfo[0].strides = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.strides[0]; __pyx_pybuffernd_malla.diminfo[0].shape = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.shape[0]; __pyx_pybuffernd_malla.diminfo[1].strides = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.strides[1]; __pyx_pybuffernd_malla.diminfo[1].shape = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.shape[1];
/<em> … </em>/
  /<em> function exit code </em>/
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_42);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_43);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_44);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_45);
  { PyObject <em>__pyx_type, </em>__pyx_value, *__pyx_tb;
    <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_type, &amp;__pyx_value, &amp;__pyx_tb);
    <span class='pyx_c_api'>__Pyx_SafeReleaseBuffer</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer);
  <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_type, __pyx_value, __pyx_tb);}
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("_cython_magic_db10c794e43f00f7b90f23a8e05093c1.busca_min_cython4", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  goto __pyx_L2;
  __pyx_L0:;
  <span class='pyx_c_api'>__Pyx_SafeReleaseBuffer</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer);
  __pyx_L2:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minimosx);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minimosy);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}</p>
<p>/<em> Python wrapper </em>/
static PyObject <em>__pyx_pw_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_1busca_min_cython4(PyObject </em><strong>pyx_self, PyObject <em>__pyx_v_malla); /</em>proto<em>/
static PyObject </em>__pyx_pw_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_1busca_min_cython4(PyObject <em>__pyx_self, PyObject </em>__pyx_v_malla) {
  PyObject <em>__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("busca_min_cython4 (wrapper)", 0);
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject </em>)__pyx_v_malla), __pyx_ptype_5numpy_ndarray, 1, "malla", 0))) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 4; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  __pyx_r = __pyx_pf_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_busca_min_cython4(__pyx_self, ((PyArrayObject <em>)__pyx_v_malla));
  CYTHON_UNUSED int __pyx_lineno = 0;
  CYTHON_UNUSED const char </em>__pyx_filename = NULL;
  CYTHON_UNUSED int __pyx_clineno = 0;</p>
<p>/<em> function exit code </em>/
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}</p>
<p>static PyObject <em>__pyx_pf_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_busca_min_cython4(CYTHON_UNUSED PyObject </em><strong>pyx_self, PyArrayObject <em>__pyx_v_malla) {
  __Pyx_LocalBuf_ND __pyx_pybuffernd_malla;
  __Pyx_Buffer __pyx_pybuffer_malla;
  PyObject </em>__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("busca_min_cython4", 0);
  __pyx_pybuffer_malla.pybuffer.buf = NULL;
  __pyx_pybuffer_malla.refcount = 0;
  __pyx_pybuffernd_malla.data = NULL;
  __pyx_pybuffernd_malla.rcbuffer = &amp;__pyx_pybuffer_malla;
  {
    __Pyx_BufFmt_StackElem __pyx_stack[1];
    if (unlikely(<span class='pyx_c_api'>__Pyx_GetBufferAndValidate</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer, (PyObject*)__pyx_v_malla, &amp;__Pyx_TypeInfo_double, PyBUF_FORMAT| PyBUF_STRIDES, 2, 0, __pyx_stack) == -1)) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 4; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  }
  __pyx_pybuffernd_malla.diminfo[0].strides = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.strides[0]; __pyx_pybuffernd_malla.diminfo[0].shape = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.shape[0]; __pyx_pybuffernd_malla.diminfo[1].strides = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.strides[1]; __pyx_pybuffernd_malla.diminfo[1].shape = __pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer.shape[1];
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_46_cython_magic_db10c794e43f00f7b90f23a8e05093c1_busca_min_cython4(__pyx_v_malla, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;</p>
<p>/<em> function exit code </em>/
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  { PyObject <em>__pyx_type, </em>__pyx_value, *__pyx_tb;
    <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_type, &amp;__pyx_value, &amp;__pyx_tb);
    <span class='pyx_c_api'>__Pyx_SafeReleaseBuffer</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer);
  <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_type, __pyx_value, __pyx_tb);}
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("_cython_magic_db10c794e43f00f7b90f23a8e05093c1.busca_min_cython4", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  goto __pyx_L2;
  __pyx_L0:;
  <span class='pyx_c_api'>__Pyx_SafeReleaseBuffer</span>(&amp;__pyx_pybuffernd_malla.rcbuffer-&gt;pybuffer);
  __pyx_L2:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>05:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>list<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>06:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+07:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>ii<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>shape<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_v_ii = ((__pyx_v_malla-<span class="ni">&amp;gt;</span>dimensions[1]) - 1);
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+08:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>jj<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>shape<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_v_jj = ((__pyx_v_malla-<span class="ni">&amp;gt;</span>dimensions[0]) - 1);
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+09:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>cdef<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>unsigned<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;kt&quot;</span><span class="nt">&gt;</span>int<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nf&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_v_start = 1;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+10:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[]<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyList_New<span class="nt">&lt;/span&gt;</span>(0);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 10; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_minimosx = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+11:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[]<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>  __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;py_c_api&#39;</span><span class="nt">&gt;</span>PyList_New<span class="nt">&lt;/span&gt;</span>(0);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_minimosy = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+12:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>for<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>in<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>range<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>ii<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>  __pyx_t_2 = __pyx_v_ii;
</pre></div>


<p>for (__pyx_t_3 = __pyx_v_start; __pyx_t_3 &lt; __pyx_t_2; __pyx_t_3+=1) {
    __pyx_v_i = __pyx_t_3;
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+13:         <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>for<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>in<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>range<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>start<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>jj<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-0&#39;</span><span class="nt">&gt;</span>    __pyx_t_4 = __pyx_v_jj;
for (__pyx_t_5 = __pyx_v_start; __pyx_t_5 <span class="ni">&amp;lt;</span> __pyx_t_4; __pyx_t_5+=1) {
  __pyx_v_j = __pyx_t_5;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+14:             <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>if<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_7 = __pyx_v_j;
  __pyx_t_8 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_7 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_8 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_10 = (__pyx_v_j - 1);
  __pyx_t_11 = (__pyx_v_i - 1);
  __pyx_t_9 = -1;
  if (__pyx_t_10 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_10 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_10 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_10 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_11 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_11 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_11 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_11 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_7, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_8, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_10, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_11, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+15:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_13 = __pyx_v_j;
  __pyx_t_14 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_13 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_14 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_15 = (__pyx_v_j - 1);
  __pyx_t_16 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (__pyx_t_15 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_15 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_15 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_15 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_16 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_13, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_14, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_15, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_16, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+16:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_17 = __pyx_v_j;
  __pyx_t_18 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_17 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_18 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_19 = (__pyx_v_j - 1);
  __pyx_t_20 = (__pyx_v_i + 1);
  __pyx_t_9 = -1;
  if (__pyx_t_19 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_19 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_19 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_19 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_20 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_20 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_20 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_20 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_17, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_18, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_19, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_20, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+17:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_21 = __pyx_v_j;
  __pyx_t_22 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_21 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_22 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_23 = __pyx_v_j;
  __pyx_t_24 = (__pyx_v_i - 1);
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_23 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_24 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_24 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_24 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_24 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_21, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_22, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_23, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_24, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+18:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_25 = __pyx_v_j;
  __pyx_t_26 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_25 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_26 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_27 = __pyx_v_j;
  __pyx_t_28 = (__pyx_v_i + 1);
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_27 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_28 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_28 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_28 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_28 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 18; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_25, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_26, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_27, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_28, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+19:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>-<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_29 = __pyx_v_j;
  __pyx_t_30 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_29 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_30 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_31 = (__pyx_v_j + 1);
  __pyx_t_32 = (__pyx_v_i - 1);
  __pyx_t_9 = -1;
  if (__pyx_t_31 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_31 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_31 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_31 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_32 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_32 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_32 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_32 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 19; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_29, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_30, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_31, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_32, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+20:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ow&quot;</span><span class="nt">&gt;</span>and<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_33 = __pyx_v_j;
  __pyx_t_34 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_33 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_34 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_35 = (__pyx_v_j + 1);
  __pyx_t_36 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (__pyx_t_35 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_35 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_35 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_35 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_36 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_33, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_34, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_35, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_36, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  if (__pyx_t_12) {
  } else {
    __pyx_t_6 = __pyx_t_12;
    goto __pyx_L8_bool_binop_done;
  }
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-4&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+21:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>malla<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mf&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]):<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-4&#39;</span><span class="nt">&gt;</span>      __pyx_t_37 = __pyx_v_j;
  __pyx_t_38 = __pyx_v_i;
  __pyx_t_9 = -1;
  if (unlikely(__pyx_t_37 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (unlikely(__pyx_t_38 <span class="ni">&amp;gt;</span>= (size_t)__pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_39 = (__pyx_v_j + 1);
  __pyx_t_40 = (__pyx_v_i + 1);
  __pyx_t_9 = -1;
  if (__pyx_t_39 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_39 += __pyx_pybuffernd_malla.diminfo[0].shape;
    if (unlikely(__pyx_t_39 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 0;
  } else if (unlikely(__pyx_t_39 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[0].shape)) __pyx_t_9 = 0;
  if (__pyx_t_40 <span class="ni">&amp;lt;</span> 0) {
    __pyx_t_40 += __pyx_pybuffernd_malla.diminfo[1].shape;
    if (unlikely(__pyx_t_40 <span class="ni">&amp;lt;</span> 0)) __pyx_t_9 = 1;
  } else if (unlikely(__pyx_t_40 <span class="ni">&amp;gt;</span>= __pyx_pybuffernd_malla.diminfo[1].shape)) __pyx_t_9 = 1;
  if (unlikely(__pyx_t_9 != -1)) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_RaiseBufferIndexError<span class="nt">&lt;/span&gt;</span>(__pyx_t_9);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
  }
  __pyx_t_12 = (((*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_37, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_38, __pyx_pybuffernd_malla.diminfo[1].strides)) <span class="ni">&amp;lt;</span> (*__Pyx_BufPtrStrided2d(double *, __pyx_pybuffernd_malla.rcbuffer-<span class="ni">&amp;gt;</span>pybuffer.buf, __pyx_t_39, __pyx_pybuffernd_malla.diminfo[0].strides, __pyx_t_40, __pyx_pybuffernd_malla.diminfo[1].strides))) != 0);
  __pyx_t_6 = __pyx_t_12;
  __pyx_L8_bool_binop_done:;
  if (__pyx_t_6) {
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+22:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>append<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>i<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>        __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_i);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
    __pyx_t_41 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyList_Append<span class="nt">&lt;/span&gt;</span>(__pyx_v_minimosx, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_41 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 22; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre></div>


</pre>

<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-5&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+23:                 <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>append<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>j<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-5&#39;</span><span class="nt">&gt;</span>        __pyx_t_1 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyInt_From_unsigned_int<span class="nt">&lt;/span&gt;</span>(__pyx_v_j);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;refnanny&#39;</span><span class="nt">&gt;</span>__Pyx_GOTREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1);
    __pyx_t_41 = <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_c_api&#39;</span><span class="nt">&gt;</span>__Pyx_PyList_Append<span class="nt">&lt;/span&gt;</span>(__pyx_v_minimosy, __pyx_t_1);<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;error_goto&#39;</span><span class="nt">&gt;</span> if (unlikely(__pyx_t_41 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; __pyx_clineno = __LINE__; goto __pyx_L1_error;}<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_DECREF<span class="nt">&lt;/span&gt;</span>(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;
}
</pre></div>


<p>}
</pre></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-0&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;#xA0;</span>24: <span class="nt">&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython line score-66&#39;</span> <span class="na">onclick=</span><span class="s">&#39;toggleDiv(this)&#39;</span><span class="nt">&gt;</span>+25:     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;&lt;/pre&gt;</span>

                    <span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&#39;cython code score-66&#39;</span><span class="nt">&gt;</span>  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;pyx_macro_api&#39;</span><span class="nt">&gt;</span>__Pyx_XDECREF<span class="nt">&lt;/span&gt;</span>(__pyx_r);
</pre></div>


<p><strong>pyx_t_42 = <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_42)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_42);
  __pyx_t_43 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_42, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_43)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_43);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_42); __pyx_t_42 = 0;
  __pyx_t_42 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_43))) {
    __pyx_t_42 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_43);
    if (likely(__pyx_t_42)) {
      PyObject<em> function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(<strong>pyx_t_43);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_42);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_43, function);
    }
  }
  if (!__pyx_t_42) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_43, __pyx_v_minimosx);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  } else {
    __pyx_t_44 = <span class='py_c_api'>PyTuple_New</span>(1+1);<span class='error_goto'> if (unlikely(!__pyx_t_44)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_44);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_44, 0, __pyx_t_42); <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_42); __pyx_t_42 = NULL;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_minimosx);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_44, 0+1, __pyx_v_minimosx);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_minimosx);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_43, __pyx_t_44, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_44); __pyx_t_44 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_43); __pyx_t_43 = 0;
  __pyx_t_44 = <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_44)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_44);
  __pyx_t_42 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_44, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_42)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_42);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_44); __pyx_t_44 = 0;
  __pyx_t_44 = NULL;
  if (CYTHON_COMPILING_IN_CPYTHON &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_42))) {
    __pyx_t_44 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_42);
    if (likely(__pyx_t_44)) {
      PyObject</em> function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_42);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_44);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_42, function);
    }
  }
  if (!__pyx_t_44) {
    __pyx_t_43 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_42, __pyx_v_minimosy);<span class='error_goto'> if (unlikely(!__pyx_t_43)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_43);
  } else {
    __pyx_t_45 = <span class='py_c_api'>PyTuple_New</span>(1+1);<span class='error_goto'> if (unlikely(!__pyx_t_45)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_45);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_45, 0, __pyx_t_44); <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_44); __pyx_t_44 = NULL;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_minimosy);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_45, 0+1, __pyx_v_minimosy);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_minimosy);
    __pyx_t_43 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_42, __pyx_t_45, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_43)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto <strong>pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_43);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_45); __pyx_t_45 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_42); __pyx_t_42 = 0;
  __pyx_t_42 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_42)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE</strong>; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_42);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_42, 0, __pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_42, 1, __pyx_t_43);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_43);
  __pyx_t_1 = 0;
  __pyx_t_43 = 0;
  __pyx_r = ((PyObject*)__pyx_t_42);
  __pyx_t_42 = 0;
  goto __pyx_L0;
</pre>
                      </div></p>
<div class="highlight"><pre><span></span>                  <span class="nt">&lt;p&gt;</span>
                    <span class="nt">&lt;/body&gt;&lt;/html&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span> <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Vemos que muchas de las partes oscuras ahora son más claras!!! Pero parece que sigue quedando espacio para la mejora.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-5).&quot;</span><span class="nt">&gt;</span>
                            Cythonizando, que es gerundio (toma 5).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-5).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Vamos a ver si definiendo el tipo del resultado de la función como un numpy array en lugar de como una tupla nos introduce alguna mejora:<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython5<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></p>
<p><span class="k">cpdef</span> <span class="kt">np</span>.<span class="kt">ndarray</span>[<span class="nf">int</span><span class="p">,</span> <span class="nf">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">busca_min_cython5</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">list</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>([<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>])<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython5(data)
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>10 loops, best of 3: 137 ms per loop
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Vaya, parece que con respecto a la versión anterior solo obtenemos una ganancia de un 2% - 4%.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-6).&quot;</span><span class="nt">&gt;</span>
                            Cythonizando, que es gerundio (toma 6).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-6).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Vamos a dejar de usar listas y vamos a usar numpy arrays vacios que iremos &#39;rellenando&#39; con <span class="nt">&lt;code&gt;</span>numpy.append<span class="nt">&lt;/code&gt;</span>. A ver si usando todo numpy arrays conseguimos algún tipo de mejora:<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython6<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></p>
<p><span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython6</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">np</span>.<span class="kt">ndarray</span>[<span class="nf">long</span><span class="p">,</span> <span class="nf">ndim</span> <span class="o">=</span> <span class="mf">1</span><span class="p">]</span> <span class="n">minimosx</span><span class="p">,</span> <span class="n">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">minimosx</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">minimosy</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython6(data)
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>1 loops, best of 3: 5.59 s per loop
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>append<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>?<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          En realidad, en la anterior porción de código estoy usando algo muy ineficiente. La función <span class="nt">&lt;code&gt;</span>numpy.append<span class="nt">&lt;/code&gt;</span> no funciona como una lista a la que vas anexando elementos. Lo que estamos haciendo en realidad es crear copias del array existente para convertirlo a un nuevo array con un elemento nuevo. Esto no es lo que pretendiamos!!!!<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-7).&quot;</span><span class="nt">&gt;</span>
                            Cythonizando, que es gerundio (toma 7).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-7).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          En Python existen <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://docs.python.org/3.4/library/array.html&quot;</span><span class="nt">&gt;</span>arrays<span class="nt">&lt;/a&gt;</span> eficientes para valores numéricos (según reza la documentación) que también pueden ser usados de la forma en que estoy usando las listas en mi función (arrays vacios a los que les vamos añadiendo elementos). Vamos a usarlos con Cython.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython7<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">from</span> <span class="nn">cpython</span> <span class="k">cimport</span> <span class="n">array</span> <span class="k">as</span> <span class="n">c_array</span>
<span class="k">from</span> <span class="nn">array</span> <span class="k">import</span> <span class="n">array</span></p>
<p><span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython7</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">c_array</span>.<span class="kt">array</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span> 
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython7(data)
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>10 loops, best of 3: 98.1 ms per loop
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Parece que hemos ganado otro 25% - 30% con respecto a lo anterior más eficiente que habíamos conseguido. Con respecto a la implementación inicial en Python puro tenemos una mejora de 30x - 35x veces la velocidad inicial.<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Vamos a comprobar si seguimos teniendo los mismos resultados.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>b<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>data<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">aa</span><span class="p">,</span> <span class="n">bb</span> <span class="o">=</span> <span class="n">busca_min_cython7</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bb</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">aa</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bb</span><span class="p">))</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>[   1    1    1 ..., 1998 1998 1998]
</pre></div>


<p>[   1    3   11 ..., 1968 1977 1985]
[   1    1    1 ..., 1998 1998 1998]
[   1    3   11 ..., 1968 1977 1985]
True
True
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          ¿Qué pasa si el tamaño del array se incrementa?<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>data2<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>random<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>randn<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>5000<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>5000<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="o">%</span><span class="k">timeit</span> busca_min(data2)
<span class="o">%</span><span class="k">timeit</span> busca_min_cython7(data2)
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>1 loops, best of 3: 24.6 s per loop
</pre></div>


<p>1 loops, best of 3: 687 ms per loop
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>b<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>data2<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">aa</span><span class="p">,</span> <span class="n">bb</span> <span class="o">=</span> <span class="n">busca_min_cython7</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bb</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">aa</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bb</span><span class="p">))</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>[   1    1    1 ..., 4998 4998 4998]
</pre></div>


<p>[   7   12   18 ..., 4975 4978 4983]
[   1    1    1 ..., 4998 4998 4998]
[   7   12   18 ..., 4975 4978 4983]
True
True
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Parece que al ir aumentando el tamaño de los datos de entrada a la función los números son consistentes y el rendimiento se mantiene. En este caso concreto parece que ya hemos llegado a rendimientos de más de ¡¡35x!! con respecto a la implementación inicial.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-8).&quot;</span><span class="nt">&gt;</span>
                            Cythonizando, que es gerundio (toma 8).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-8).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Podemos usar <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://docs.cython.org/src/reference/compilation.html#compiler-directives&quot;</span><span class="nt">&gt;</span>directivas de compilación<span class="nt">&lt;/a&gt;</span> que ayuden al compilador a decidir mejor qué es lo que tiene que hacer. Entre ellas se encuentra una opción que es <span class="nt">&lt;code&gt;</span>boundscheck<span class="nt">&lt;/code&gt;</span> que evita mirar la posibilidad de obtener <span class="nt">&lt;code&gt;</span>IndexError<span class="nt">&lt;/code&gt;</span> asumiendo que el código está libre de estos errores de indexación. Lo vamos a usar conjuntamente con <span class="nt">&lt;code&gt;</span>wraparound<span class="nt">&lt;/code&gt;</span>. Esta última opción se encarga de evitar mirar indexaciones relativas al final del iterable (por ejemplo, <span class="nt">&lt;code&gt;</span>mi_iterable[-1]<span class="nt">&lt;/code&gt;</span>). En este caso concreto, la segunda opción no aporta nada de mejora de rendimiento pero la dijamos ya que la hemos probado.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython8<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">from</span> <span class="nn">cpython</span> <span class="k">cimport</span> <span class="n">array</span> <span class="k">as</span> <span class="n">c_array</span>
<span class="k">from</span> <span class="nn">array</span> <span class="k">import</span> <span class="n">array</span>
<span class="k">cimport</span> <span class="nn">cython</span></p>
<p><span class="nd">@cython</span><span class="o">.</span><span class="n">boundscheck</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> 
<span class="nd">@cython</span><span class="o">.</span><span class="n">wraparound</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython8</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span><span class="p">,</span> <span class="n">ndim</span> <span class="o">=</span> <span class="mf">2</span><span class="p">]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">c_array</span>.<span class="kt">array</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span> 
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython8(data)
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>10 loops, best of 3: 94.3 ms per loop
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Parece que hemos conseguido arañar otro poquito de rendimiento.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Cythonizando,-que-es-gerundio-(toma-9).&quot;</span><span class="nt">&gt;</span>
                            Cythonizando, que es gerundio (toma 9).<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Cythonizando,-que-es-gerundio-(toma-9).&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          En lugar de usar numpy arrays vamos a usar <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://docs.cython.org/src/userguide/memoryviews.html#typed-memoryviews&quot;</span><span class="nt">&gt;&lt;em&gt;</span>memoryviews<span class="nt">&lt;/em&gt;&lt;/a&gt;</span>. Los <span class="nt">&lt;em&gt;</span>memoryviews<span class="nt">&lt;/em&gt;</span> son arrays de acceso rápido. Si solo queremos almacenar cosas y no necesitamos ninguna de las características de un numpy array pueden ser una buena solución. Si necesitamos alguna funcionalidad extra siempre lo podemos convertir en un numpy array usando <span class="nt">&lt;code&gt;</span>numpy.asarray<span class="nt">&lt;/code&gt;</span>.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>cython<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>--<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>probandocython9<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">from</span> <span class="nn">cpython</span> <span class="k">cimport</span> <span class="n">array</span> <span class="k">as</span> <span class="n">c_array</span>
<span class="k">from</span> <span class="nn">array</span> <span class="k">import</span> <span class="n">array</span>
<span class="k">cimport</span> <span class="nn">cython</span></p>
<p><span class="nd">@cython</span><span class="o">.</span><span class="n">boundscheck</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> 
<span class="nd">@cython</span><span class="o">.</span><span class="n">wraparound</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="c">#cpdef tuple busca_min_cython9(np.ndarray[double, ndim = 2] malla):</span>
<span class="k">cpdef</span> <span class="kt">tuple</span> <span class="nf">busca_min_cython9</span><span class="p">(</span><span class="n">double</span> <span class="p">[:,:]</span> <span class="n">malla</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">c_array</span>.<span class="kt">array</span> <span class="nf">minimosx</span><span class="p">,</span> <span class="nf">minimosy</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">i</span><span class="p">,</span> <span class="nf">j</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ii</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">jj</span> <span class="o">=</span> <span class="n">malla</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf"></span><span class="p">]</span><span class="o">-</span><span class="mf">1</span>
    <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">start</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="c">#cdef float [:, :] malla_view = malla</span>
    <span class="n">minimosx</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">minimosy</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="p">[])</span> 
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">ii</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">1</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="ow">and</span>
                <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">malla</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">1</span><span class="p">]):</span>
                <span class="n">minimosx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">minimosy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></p>
<div class="highlight"><pre><span></span><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>return<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosx<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>),<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>minimosy<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>timeit<span class="nt">&lt;/span&gt;</span> busca_min_cython9(data)
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>10 loops, best of 3: 97.6 ms per loop
</pre></div>


<p></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Parece que, virtualmente, el rendimiento es parecido a lo que ya teniamos por lo que parece que nos hemos quedado igual.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Bonus-track&quot;</span><span class="nt">&gt;</span>
                            Bonus track<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Bonus-track&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Voy a intentar usar pypy (2.4 (CPython 2.7)) conjuntamente con numpypy para ver lo que conseguimos.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>%%<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;k&quot;</span><span class="nt">&gt;</span>pypy<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p>import numpy as np
import time</p>
<p>np.random.seed(0)
data = np.random.randn(2000,2000)</p>
<p>def busca_min(malla):
    minimosx = []
    minimosy = []
    for i in range(1, malla.shape[1]-1):
        for j in range(1, malla.shape[0]-1):
            if (malla[j, i] &lt; malla[j-1, i-1] and
                malla[j, i] &lt; malla[j-1, i] and
                malla[j, i] &lt; malla[j-1, i+1] and
                malla[j, i] &lt; malla[j, i-1] and
                malla[j, i] &lt; malla[j, i+1] and
                malla[j, i] &lt; malla[j+1, i-1] and
                malla[j, i] &lt; malla[j+1, i] and
                malla[j, i] &lt; malla[j+1, i+1]):
                minimosx.append(i)
                minimosy.append(j)</p>
<div class="highlight"><pre><span></span>return np.array(minimosx), np.array(minimosy)
</pre></div>


<p>resx, resy = busca_min(data)
print(data)
print(len(resx), len(resy))
print(resx)
print(resy)</p>
<p>t = []
for i in range(100):
    t0 = time.time()
    busca_min(data)
    t1 = time.time() - t0
    t.append(t1)
print(sum(t) / 100.)
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>[[ 1.76405235  0.40015721  0.97873798 ...,  0.15843385 -1.14190142
</pre></div>


<p>-1.31097037]
 [-1.53292105 -1.71197016  0.04613506 ..., -0.03057244  1.57708821
  -0.8128021 ]
 [ 0.61334917  1.84369998  0.27109098 ..., -0.53788475  0.39344443
   0.28651827]
 ..., 
 [-0.17117027  0.57332063 -0.89516715 ..., -0.01409412  1.28756456
  -0.6953778 ]
 [-1.53627571  0.57441228 -0.20564476 ...,  0.90499929  0.51428298
   0.72148202]
 [ 0.51262101 -0.90758583  1.78121159 ..., -1.12554283  0.95170926
  -1.15237806]]
(443641, 443641)
[   1    1    1 ..., 1998 1998 1998]
[   1    3   11 ..., 1968 1977 1985]
0.3795211339
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          El último valor del output anterior es el tiempo promedio después de repetir el cálculo 100 veces.<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> Wow!! Parece que sin hacer modificaciones tenemos que el resultado es 10x - 15x veces más rápido que el obtenido usando la función inicial. Y llega a ser solo 3.5x veces más lento que lo que hemos conseguido con Cython.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Resumen-de-resultados.&quot;</span><span class="nt">&gt;</span>
                            Resumen de resultados.<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Resumen-de-resultados.&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Vamos a ver los resultados completos en un breve resumen. Primero vamos a ver los tiempos de las diferentes versiones de la función <span class="nt">&lt;code&gt;</span>busca_min_xxx<span class="nt">&lt;/code&gt;</span>:<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>funcs<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_numba<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython1<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span>
     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython2<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython3<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span>
     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython4<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython5<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span>
     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython6<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython7<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span>
     <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython8<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>busca_min_cython9<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">funcs</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="o">%</span><span class="k">timeit</span> -o func(data)
    <span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">best</span><span class="p">)</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>1 loops, best of 3: 3.67 s per loop
</pre></div>


<p>1 loops, best of 3: 5.34 s per loop
1 loops, best of 3: 3.41 s per loop
1 loops, best of 3: 3.54 s per loop
1 loops, best of 3: 3.65 s per loop
10 loops, best of 3: 139 ms per loop
10 loops, best of 3: 136 ms per loop
1 loops, best of 3: 5.65 s per loop
10 loops, best of 3: 95.4 ms per loop
10 loops, best of 3: 89 ms per loop
10 loops, best of 3: 92.3 ms per loop
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>index<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>arange<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;nb&quot;</span><span class="nt">&gt;</span>len<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>t<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>))<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mf">0.4</span><span class="p">,</span> <span class="p">[</span><span class="n">func</span><span class="o">.</span><span class="n"><strong>name</strong></span><span class="p">[</span><span class="mi">9</span><span class="p">:]</span> <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">funcs</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://new.pybonacci.org/images/2015/03/wpid-C_elemental_querido_Cython1.png&quot;</span>
</pre></div>


<p>/&gt;
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          En el gráfico anterior, la primera barra corresponde a la función de partida (<span class="nt">&lt;code&gt;</span>busca_min<span class="nt">&lt;/code&gt;</span>). Recordemos que la versión de pypy ha tardado unos 0.38 segundos.<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Y ahora vamos a ver los tiempos entre <span class="nt">&lt;code&gt;</span>busca_min<span class="nt">&lt;/code&gt;</span> (la versión original) y la última versión de cython que hemos creado, <span class="nt">&lt;code&gt;</span>busca_min_cython9<span class="nt">&lt;/code&gt;</span> usando diferentes tamaños de la matriz de entrada:<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>tamanyos<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>[<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>10<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>100<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>500<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>1000<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>2000<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>5000<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>]<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">t_p</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">t_c</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tamanyos</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="o">%</span><span class="k">timeit</span> -o busca_min(data)
    <span class="n">t_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">best</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="o">%</span><span class="k">timeit</span> -o busca_min_cython9(data)
    <span class="n">t_c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">best</span><span class="p">)</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>10000 loops, best of 3: 67.9 µs per loop
</pre></div>


<p>The slowest run took 4.77 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 5.13 µs per loop
100 loops, best of 3: 8.65 ms per loop
10000 loops, best of 3: 177 µs per loop
1 loops, best of 3: 223 ms per loop
100 loops, best of 3: 5.51 ms per loop
1 loops, best of 3: 890 ms per loop
10 loops, best of 3: 26.6 ms per loop
1 loops, best of 3: 3.64 s per loop
10 loops, best of 3: 92.8 ms per loop
1 loops, best of 3: 22.8 s per loop
1 loops, best of 3: 605 ms per loop
</pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>plt<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>figure<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>figsize<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>10<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>6<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>))<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tamanyos</span><span class="p">,</span> <span class="n">t_p</span><span class="p">,</span> <span class="s">&#39;bo-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tamanyos</span><span class="p">,</span> <span class="n">t_c</span><span class="p">,</span> <span class="s">&#39;ro-&#39;</span><span class="p">)</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>[<span class="ni">&amp;lt;</span>matplotlib.lines.Line2D at 0x7f5b810a1d30<span class="ni">&amp;gt;</span>]<span class="nt">&lt;/pre&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>
                          <span class="nt">&lt;/div&gt;</span>

                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://new.pybonacci.org/images/2015/03/wpid-C_elemental_querido_Cython2.png&quot;</span>
</pre></div>


<p>/&gt;
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot; highlight hl-ipython3&quot;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;pre&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>ratio<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>t_p<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>/<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>np<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>array<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>t_c<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tamanyos</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="s">&#39;bo-&#39;</span><span class="p">)</span>
</pre>
                                </div>
                              </div>
                            </div>
                          </div></p>
<div class="highlight"><pre><span></span>                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;pre&gt;</span>[<span class="ni">&amp;lt;</span>matplotlib.lines.Line2D at 0x7f5b810af2e8<span class="ni">&amp;gt;</span>]<span class="nt">&lt;/pre&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>
                          <span class="nt">&lt;/div&gt;</span>

                          <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;div&gt;</span>
                            <span class="nt">&lt;/div&gt;</span>

                            <span class="nt">&lt;div&gt;</span>
                              <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://new.pybonacci.org/images/2015/03/wpid-C_elemental_querido_Cython3.png&quot;</span>
</pre></div>


<p>/&gt;
                                </div>
                              </div>
                            </div>
                          </div>
                        </div></p>
<div class="highlight"><pre><span></span>                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Parece que conseguimos rendimientos que son 40 veces más rápidos que con Python puro que usa un numpy array de por medio (excepto para tamaños de arrays muy pequeños en los que el rendimiento no sería una gran problema).<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;Apuntes-finales&quot;</span><span class="nt">&gt;</span>
                            Apuntes finales<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;anchor-link&quot;</span> <span class="na">href=</span><span class="s">&quot;#Apuntes-finales&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#182;</span><span class="nt">&lt;/a&gt;</span>
                          <span class="nt">&lt;/h1&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Después de haber probado Python, Cython, Numba y Pypy:<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;strong&gt;</span>Numba<span class="nt">&lt;/strong&gt;</span>:<span class="nt">&lt;/p&gt;</span>

                          <span class="nt">&lt;ul&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Numba no parece fácilmente generalizable a día de hoy (experiencia personal) y no soporta ni parece que soportará todas las características del lenguaje. La idea me parece increible pero creo que le falta todavía un poco de madurez.
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Me ha costado instalar numba y llvmlite en linux sin usar conda (con conda no lo he probado por lo que no puedo opinar).
                            <span class="nt">&lt;/li&gt;</span>
                          <span class="nt">&lt;/ul&gt;</span>

                          <span class="nt">&lt;p&gt;</span>
                            (Creo que JuanLu estaba preparando un post sobre Numba. Habrá que esperar a ver sus conclusiones).<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> <span class="nt">&lt;strong&gt;</span>Pypy<span class="nt">&lt;/strong&gt;</span>:
                          <span class="nt">&lt;/p&gt;</span>

                          <span class="nt">&lt;ul&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Pypy ha funcionado como un titán sin necesidad de hacer modificaciones.
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Destacar que no tengo excesivas experiencias con el mismo
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Instalarlo no es tarea fácil (he intentado usar PyPy3 con numpypy y he fallado vilmente). Quería usar numpypy y al final he optado por descargar una versión portable con numpy de serie que quizá afecte al rendimiento ¿?.
                            <span class="nt">&lt;/li&gt;</span>
                          <span class="nt">&lt;/ul&gt;</span>

                          <span class="nt">&lt;p&gt;</span>
                            <span class="nt">&lt;strong&gt;</span>Cython<span class="nt">&lt;/strong&gt;</span>:
                          <span class="nt">&lt;/p&gt;</span>

                          <span class="nt">&lt;ul&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Me ha parecido el más generalizable de todos. Se pueden crear paquetes para CPython, para Pypy,...
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              No lo he probado en Windows por lo que no sé lo doloroso que puede llegar a ser. Mañana lo probaré en el trabajo y ya dejaré un comentario por ahí.
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              El manejo no es tan evidente como con Numba y Pypy. Requiere entender como funcionan los tipos de C y requiere conocer una serie de interioridades de C. Sin duda es el que más esfuerzo requiere de las alternativas aquí expuestas pra este caso concreto y no generalizable.
                            <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>
                              Creo que, una vez hecho el esfuerzo inicial de intentar entender un poco como funciona, se puede sacar un gran rendimiento del mismo en muchas situaciones.
                            <span class="nt">&lt;/li&gt;</span>
                          <span class="nt">&lt;/ul&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>

                    <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>

                      <span class="nt">&lt;div&gt;</span>
                        <span class="nt">&lt;div&gt;</span>
                          Y después de haber leído todo esto pensad que, en la mayoría de situaciones, CPython no es tan lento como lo pintan (sobretodo con numpy) y que ¡¡¡LA OPTIMIZACIÓN PREMATURA ES LA RAÍZ DE TODOS LOS MALES!!!<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                      <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
</pre></div>
        </div>

        <div class="meta">
            <div class="tags">
                    <a href="http://pybonacci.github.io/tag/c.html" class="tag">c</a>
                    <a href="http://pybonacci.github.io/tag/cython.html" class="tag">cython</a>
                    <a href="http://pybonacci.github.io/tag/numba.html" class="tag">numba</a>
                    <a href="http://pybonacci.github.io/tag/performance.html" class="tag">performance</a>
                    <a href="http://pybonacci.github.io/tag/pypy.html" class="tag">pypy</a>
                    <a href="http://pybonacci.github.io/tag/rendimiento.html" class="tag">rendimiento</a>
            </div>
        </div>

  
<hr>    
<div class="row">
  <div class="col-md-2">
    <img src=https://pybonacci.org/images/author/kiko-correoso.jpg alt="photo" class="img-author img-rounded"/>
  </div>
  <div class="col-md-1"></div>
  <div class="col-md-9 description-author">
    <p>Kiko es doctor en ciencias físicas y esta especializado en física de la atmósfera, meteorología y climatología. Además de estar en las nubes es especialista en temas de energías renovables en Iberdrola. Ávido de seguir mejorando siempre está abierto a participar en nuevos proyectos y retos por lo que no dudes en contactarle si necesitas servicios especializados de Python o meteorología.
</p>
  </div>
</div> 

    </article>
<div id="commento"></div>
</div>

<style type="text/css">
{
    max-width: 700px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
    max-width: 580px;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

        </div>

        <footer class="disclaimer">
          <div class="container-fluid">
            <p>
              © 2012-2017 Pybonacci, licencia <a href="https://github.com/Pybonacci/pybonacci.github.io/blob/sources/LICENSE.md"> CC BY-SA 4.0 + MIT</a>
              salvo otra indicación.
              <p>Contenido generado con <a href= "http://docs.getpelican.com/">Pelican</a>.</p>
            </p>
          </div>
        </footer>

    </body>
</html>